// This file was auto-generated by the card stub generator.
// Card effects were implemented by an agent.
// If you have any questions or feedback, reach out to @C4 in the discord.

import { TrainerCard } from '../../game/store/card/trainer-card';
import { TrainerType } from '../../game/store/card/card-types';
import { StoreLike, State } from '../../game';
import { Effect } from '../../game/store/effects/effect';
import { TrainerEffect } from '../../game/store/effects/play-card-effects';

export class Will extends TrainerCard {
  public trainerType: TrainerType = TrainerType.SUPPORTER;
  public set: string = 'CEC';
  public setNumber: string = '208';
  public cardImage: string = 'assets/cardback.png';
  public name: string = 'Will';
  public fullName: string = 'Will CEC';
  public text: string = 'The next time you flip any number of coins for the effect of an attack, Ability, or Trainer card this turn, choose heads or tails for the first coin flip. You may play only 1 Supporter card during your turn (before your attack).';

  public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
    // TODO: Will's effect ("choose heads or tails for the first coin flip") requires
    // intercepting CoinFlipPrompt at the engine level to override the first coin flip result.
    // This is not currently implementable in the engine.
    // See also: set-guardians-rising/victini.ts (Victory Star - same limitation)
    if (effect instanceof TrainerEffect && effect.trainerCard === this) {
      // Card is played and discarded as normal supporter, but effect is not implemented
      // due to engine limitations with coin flip interception.
    }

    return state;
  }
}
